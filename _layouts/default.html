<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    {%if jekyll.environment == "development"%}
    <link rel='shortcut icon' type='image/x-icon' href='/favicon_dev.png' />
    {%else%}
    <link rel='shortcut icon' type='image/x-icon' href='/favicon.png' />
    {%endif%}
    <meta name="baidu-site-verification" content="hUyIaosl7w" />
    <title>{{ page.title | default: site.deftitle | default: site.github.repository_name }} | {{site.title}}</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet" importance="high">
    <link rel="stylesheet" href="https://cdn.bootcss.com/material-design-icons/3.0.1/iconfont/material-icons.css" importance="high">
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.slim.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans+SC:100,300,400,500,700,900"> -->
    <style>
        div#top-div:after {
            background-position: {{page.topimg-pos}}

            ;
            background-size: cover;
            background-color: {{page.topimg-bgc}} !important;
            --top-img: url("{{ page.topimg }}");
            background-size: {{page.topimg-size}}
        }
    </style>

    {% if page.topimg-dark == true %}
    <style>
        div#top-div:after {
            filter: brightness(0.7);
        }
    </style>
    {%endif%}
    {% if page.topimg == nil and page.topimg-bgc == nil %}
    <style>
        div#top-div:after {
            /* background-color: #DFDBE5; */
            /* background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M54.627 0l.83.828-1.415 1.415L51.8 0h2.827zM5.373 0l-.83.828L5.96 2.243 8.2 0H5.374zM48.97 0l3.657 3.657-1.414 1.414L46.143 0h2.828zM11.03 0L7.372 3.657 8.787 5.07 13.857 0H11.03zm32.284 0L49.8 6.485 48.384 7.9l-7.9-7.9h2.83zM16.686 0L10.2 6.485 11.616 7.9l7.9-7.9h-2.83zm20.97 0l9.315 9.314-1.414 1.414L34.828 0h2.83zM22.344 0L13.03 9.314l1.414 1.414L25.172 0h-2.83zM32 0l12.142 12.142-1.414 1.414L30 .828 17.272 13.556l-1.414-1.414L28 0h4zM.284 0l28 28-1.414 1.414L0 2.544V0h.284zM0 5.373l25.456 25.455-1.414 1.415L0 8.2V5.374zm0 5.656l22.627 22.627-1.414 1.414L0 13.86v-2.83zm0 5.656l19.8 19.8-1.415 1.413L0 19.514v-2.83zm0 5.657l16.97 16.97-1.414 1.415L0 25.172v-2.83zM0 28l14.142 14.142-1.414 1.414L0 30.828V28zm0 5.657L11.314 44.97 9.9 46.386l-9.9-9.9v-2.828zm0 5.657L8.485 47.8 7.07 49.212 0 42.143v-2.83zm0 5.657l5.657 5.657-1.414 1.415L0 47.8v-2.83zm0 5.657l2.828 2.83-1.414 1.413L0 53.456v-2.83zM54.627 60L30 35.373 5.373 60H8.2L30 38.2 51.8 60h2.827zm-5.656 0L30 41.03 11.03 60h2.828L30 43.858 46.142 60h2.83zm-5.656 0L30 46.686 16.686 60h2.83L30 49.515 40.485 60h2.83zm-5.657 0L30 52.343 22.343 60h2.83L30 55.172 34.828 60h2.83zM32 60l-2-2-2 2h4zM59.716 0l-28 28 1.414 1.414L60 2.544V0h-.284zM60 5.373L34.544 30.828l1.414 1.415L60 8.2V5.374zm0 5.656L37.373 33.656l1.414 1.414L60 13.86v-2.83zm0 5.656l-19.8 19.8 1.415 1.413L60 19.514v-2.83zm0 5.657l-16.97 16.97 1.414 1.415L60 25.172v-2.83zM60 28L45.858 42.142l1.414 1.414L60 30.828V28zm0 5.657L48.686 44.97l1.415 1.415 9.9-9.9v-2.828zm0 5.657L51.515 47.8l1.414 1.413 7.07-7.07v-2.83zm0 5.657l-5.657 5.657 1.414 1.415L60 47.8v-2.83zm0 5.657l-2.828 2.83 1.414 1.413L60 53.456v-2.83zM39.9 16.385l1.414-1.414L30 3.658 18.686 14.97l1.415 1.415 9.9-9.9 9.9 9.9zm-2.83 2.828l1.415-1.414L30 9.313 21.515 17.8l1.414 1.413 7.07-7.07 7.07 7.07zm-2.827 2.83l1.414-1.416L30 14.97l-5.657 5.657 1.414 1.415L30 17.8l4.243 4.242zm-2.83 2.827l1.415-1.414L30 20.626l-2.828 2.83 1.414 1.414L30 23.456l1.414 1.414zM56.87 59.414L58.284 58 30 29.716 1.716 58l1.414 1.414L30 32.544l26.87 26.87z' fill='%23911D22' fill-opacity='0.3' fill-rule='evenodd'/%3E%3C/svg%3E"); */
            /* Pattern Source: Hero Patterns */
            background-image: url("https://i.loli.net/2021/07/14/7bHrGwkdgVpsCe2.jpg");
            /* background-size:contain; */
            filter: brightness(0.7);
        }
        @media screen and (prefers-color-scheme: light){
            div#top-div:after{background-color: rgb(167, 167, 167);}
        }
    </style>
    {%endif%}
    <link rel="stylesheet" href="/main.css">
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var elems = document.querySelectorAll('.tooltipped');
            var instances = M.Tooltip.init(elems);
            var ModalElems = document.querySelectorAll('.modal');
            var ModalInstances = M.Modal.init(ModalElems, {
                opacity: 1
            });
            document.querySelectorAll('a').forEach((item) => {
                if (item.classList.length == 0) {
                    item.target = '_blank'
                }
            })
        });
        const windowMaxSize = Math.max(window.innerHeight, window.innerWidth)
        var calculatedGallerySize = windowMaxSize * 0.4
    </script>
    <!-- 百度统计 -->
    {% if jekyll.environment=="production" %}
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?b41bbfdba39bc335cdb074874425f66b";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    {% endif %}

</head>

<body>
    {% if page.notitle != true %}
    <div class="text-darken-4 z-depth-1 back-image" id="top-div" style="color:#383838;position: sticky;margin-top: -1px;border-top: 1px #00000000 solid; top:-230px;z-index: 9;background: rgba(255, 255, 255, 0.502);-webkit-backdrop-filter: blur(20px);backdrop-filter: blur(20px);/* border-top: 3px solid var(--accent);*/">
        <nav class=" container transparent" style="color: black;width: 100%;padding-bottom: 0px; height: fit-content;max-height: 70px;margin-top: 230px;">
            <span id="page-title" class="super-large-title" style="transition: .3s all;">{{ page.title }}</span>
            <span id="page-subtitle" class="super-large-title-second" class="flow-text hide-on-small-and-down" style="font-size: 16px;margin-left: 5px;">{{ page.description }}</span>
            <div class="right accent-text" style="margin-right: 13px">
                <a onclick="localStorage.setItem('step','');" href="/" class="btn-flat accent-text nav-sidebtn transparent waves-effect navbtn tooltipped hide-on-small-and-down" data-position="bottom" data-tooltip="从头开始"><i class="material-icons" style="line-height: inherit !important">home</i></a>
                {% unless page.last == "none" %}
                <a href="/{{ page.last }}" class="btn-flat accent-text nav-sidebtn transparent navbtn waves-effect tooltipped hide-on-small-and-down" id="last" data-position="bottom" data-tooltip="上一页"><i class="material-icons" style="line-height: inherit !important">arrow_back</i></a>
                {% endunless %}
                {%unless page.ispages %}
                <a href="#index-modal" class="btn-flat accent-text modal-trigger nav-sidebtn transparent waves-effect  navbtn tooltipped" data-position="bottom" data-tooltip="目录"><i class="material-icons" style="line-height: inherit !important">list</i></a>
                {%endunless%}
                {% unless page.next == "none" %}
                <a href="/{{ page.next }}" class="btn-flat accent-text nav-sidebtn transparent navbtn waves-effect tooltipped hide-on-small-and-down" id="next" data-position="bottom" data-tooltip="下一页"><i class="material-icons" style="line-height: inherit !important">arrow_forward</i></a>
                <link rel="prerender" href="/{{ page.next }}">
                {% endunless %}
            </div>
        </nav>
    </div>
    {% endif %}
    <div class="container" style="margin-top: 50px;margin-bottom: 50px" id="main-section">
        {{ content }}
    </div>

    <footer class="container">
        <div class="divider" style="margin-bottom: 15px;"></div>
        {% if page.notitle != true %}
        <div style="display: flex; align-items: center;justify-content: space-between;">
            {% unless page.last == "none" %}
            <a href="/{{ page.last }}" id="bottom-lastpage" class="pill-btn white nav-sidebtn accent-text navbtn waves-effect" style="display: inline-flex;"><i class="material-icons" style="line-height: inherit !important">arrow_back</i>上一页</a>
            {% endunless %}
            <div style="display: flex;align-items: center;margin-left: auto;">
                <a href="https://forms.office.com/Pages/ResponsePage.aspx?id=dvGcSe515EmAwVKvzSjStSO8vWcCxT5Ai6EQbNHJpRpUOVUzTjdYU1pLVlE4WEdXSVIzWkZINTBZOS4u" target="_blank" style="margin: 0 8px;">内容纠错</a>
                <!-- https://forms.office.com/Pages/DesignPage.aspx?fragment=FormId%3DdvGcSe515EmAwVKvzSjStSO8vWcCxT5Ai6EQbNHJpRpUOVUzTjdYU1pLVlE4WEdXSVIzWkZINTBZOS4u%26Token%3D79f7b80eed00465582c715306ae9de9f -->
                {% unless page.next == "none" %}
                <a href="/{{ page.next }}" class="pill-btn white-text darken-3 accent waves-effect" id="nxt-btn-sec" style="width: fit-content;display: flex; align-items: center;padding: 0 16px;margin-left: auto;">
                    <span style="vertical-align: middle;">下一页</span>
                    <i class="material-icons" style="line-height: inherit !important;margin-left: 10px;">arrow_forward</i></a>
                {% endunless %}
            </div>
        </div>
        {% endif %}
        <!-- <p>本项目在 <a href="https://github.com/pkuschool/intro">GitHub</a> 上开源运营，一起来做贡献吧！</p> -->
        <!-- <a href="https://github.com/pkuschool/intro" class="btn black hide-on-small-and-down" id="nxt-btn-sec" style="width:-moz-fit-content;width: fit-content;display: flex; align-items: center;padding: 0 16px;text-transform: none;">
            <span style="vertical-align: middle;">GitHub Repo</span>
        </a> -->

        <p style="color: gray;">头部图片版权：{%if page.topimg-author %}{{page.topimg-author}}{%else%}Unspecified{%endif%}</p>
        <p style="color: gray;">此版本更新于：{{site.time | date: "%Y/%m/%d, %H:%M:%S (%Z)"}} | 环境：{{jekyll.environment}}</p>
        <p style="color: gray;vertical-align: middle;"><a href="https://github.com/pkuschool/intro" style="vertical-align: middle;">🔗 本项目的 GitHub 仓库</a> <img alt="GitHub contributors" src="https://img.shields.io/github/contributors/pkuschool/intro?color=%2326a69a&label=%E8%B4%A1%E7%8C%AE%E8%80%85%E6%95%B0%E9%87%8F" style="vertical-align: middle;"></p>
    </footer>
    <div id="index-modal" class="modal" style="max-height: 90%;">
        <div class="modal-content">
            <h1>章节选择</h1>
            <p>这里能选择章节，请勿跳过您未读的部分，如无切换设备的必要请用下一页按钮连续看完。<br>感谢您的理解与支持。</p>
            {% for chapter in site.data.chapters %}
            <div class="card-panel grey lighten-2 black-text z-depth-0 waves-ripple waves-effect col s12 m4" style="padding: 12px;width: 100%; border-left: 5px var(--accent) solid;border-radius: 0px;" onclick="window.open('/{{chapter.url}}', '_self')">
                <a href="/{{chapter.url}}" class=" black-text">
                    <span style="font-size: 26px;margin-left: 12px;">{{ chapter.name }}</span>
                    <span class="flow-text" style="font-size: 15px;margin-left: 5px;">{{ chapter.description }}</span>
                </a>
            </div>
            {%endfor%}
        </div>
        <div class="modal-footer">
            <a href="#!" id="index-close" class="modal-close waves-effect btn-flat">关闭</a>
        </div>
    </div>
    <script>
        if (navigator.userAgent.indexOf('Trident') != -1) {
            alert('本网站不支持 IE，我们将带您到 Edge 的正式版下载网页。')
            window.open('https://www.microsoft.com/zh-cn/edge', '_self')
        }

        window.onscroll = () => {
            // console.log(Math.floor(document.documentElement.scrollTop))
            updateTopStatus()

            window.setTimeout(()=>{updateTopStatus()},250)
        }

        function updateTopStatus() {
            // console.log(document.documentElement.scrollTop)
            if (Math.floor(Math.max(document.documentElement.scrollTop, document.querySelector('body').scrollTop)) <= 180) {
                document.querySelector("#page-title").classList.add("super-large-title")
                document.querySelector("#top-div").classList.add("back-image")
                topStatus = true
            } else {
                document.querySelector("#page-title").classList.remove("super-large-title")
                document.querySelector("#top-div").classList.remove("back-image")
                topStatus = false
            }
        }
        updateTopStatus()
    </script>

</body>


</html>
